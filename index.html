<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noel Messages</title>
    <meta name="description"
        content="Kendi Noel aÄŸacÄ±nÄ± oluÅŸtur, arkadaÅŸlarÄ±nla paylaÅŸ ve birbirinize yÄ±lbaÅŸÄ± mesajlarÄ± bÄ±rakÄ±n!">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Mountains+of+Christmas:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Snowflakes Container -->
    <div class="snowflakes" aria-hidden="true">
        <div class="snowflake">â„</div>
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
        <div class="snowflake">â„</div>
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
        <div class="snowflake">â„</div>
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
        <div class="snowflake">â„</div>
    </div>

    <!-- Background Stars -->
    <div id="background-stars" class="background-stars" aria-hidden="true"></div>

    <!-- Off-Season Screen -->
    <section id="off-season-screen" class="screen">
        <div class="home-container">
            <div class="logo-section">
                <div class="tree-icon">ğŸ„</div>
                <h1 class="title">Noel Messages</h1>
                <p class="subtitle">YÄ±lbaÅŸÄ± sezonu bekleniyor...</p>
            </div>

            <div class="off-season-message glass-card">
                <p>ğŸ… YÄ±lbaÅŸÄ± sezonu <strong>1 AralÄ±k - 1 Åubat</strong> arasÄ±nda aktif!</p>
                <p>Bu tarihler arasÄ±nda geri gel ve kendi aÄŸacÄ±nÄ± oluÅŸtur!</p>
                <div class="countdown" id="countdown"></div>
            </div>

            <div class="footer-text">
                <p>â„ï¸ GÃ¶rÃ¼ÅŸmek Ãœzere! â„ï¸</p>
            </div>
        </div>
    </section>

    <!-- Landing Page (Home Screen) -->
    <section id="home-screen" class="screen active">
        <div class="hero-content glass-card">
            <h1><span class="icon"></span> Noel Messages</h1>
            <p>YÄ±lbaÅŸÄ± dileklerini paylaÅŸ!</p>
        </div>


        <div class="button-group">
            <button id="create-tree-btn" class="btn btn-primary">
                <span class="btn-icon">âœ¨</span>
                Kendi AÄŸacÄ±mÄ± OluÅŸtur
            </button>

            <div class="divider">
                <span>veya</span>
            </div>

            <button id="visit-tree-btn" class="btn btn-secondary">
                <span class="btn-icon">ğŸ</span>
                Bir AÄŸacÄ± Ziyaret Et
            </button>
        </div>

        <div class="footer-text">
            <p id="footer-wishes">Mutlu YÄ±llar!</p>
        </div>
        </div>
    </section>

    <!-- Tree ID Entry Modal -->
    <div id="visit-modal" class="modal">
        <div class="modal-content glass-card">
            <button class="modal-close" id="close-visit-modal">&times;</button>
            <h2>ğŸ„ AÄŸaÃ§ Ziyareti</h2>

            <div class="visit-input-group">
                <label for="visit-tree-id" class="visit-label">ğŸŒ² AÄŸaÃ§ ID (Zorunlu)</label>
                <input type="text" id="visit-tree-id" placeholder="Ã–rn: ABC123" maxlength="6">
            </div>

            <div class="visit-input-group">
                <label for="visit-admin-id" class="visit-label">ğŸ” Admin ID (Opsiyonel)</label>
                <input type="text" id="visit-admin-id" placeholder="Mesaj silmek iÃ§in girin" maxlength="8">
            </div>

            <button id="go-to-tree-btn" class="btn btn-primary full-width">AÄŸaca Git</button>
            <p class="input-hint">Admin ID olmadan ziyaretÃ§i olarak girersiniz</p>
        </div>
    </div>

    <div class="language-selector">
        <button id="lang-btn" class="lang-btn" title="Dili DeÄŸiÅŸtir / Change Language">
            <span class="lang-text">TR</span>
        </button>
    </div>

    <!-- Loading Screen -->
    <section id="loading-screen" class="screen">
        <div class="loading-container">
            <div class="loading-animation">
                <div class="loading-tree">ğŸ„</div>
                <div class="loading-sparkles">âœ¨</div>
            </div>
            <p class="loading-text">YÃ¼kleniyor...</p>
        </div>
    </section>

    <!-- Tree Not Found Screen -->
    <section id="not-found-screen" class="screen">
        <div class="home-container">
            <div class="logo-section">
                <div class="tree-icon">ğŸ˜¢</div>
                <h1 class="title" style="font-size: 2rem;">AÄŸaÃ§ BulunamadÄ±</h1>
                <p class="subtitle">Bu ID'ye ait bir aÄŸaÃ§ yok.</p>
            </div>

            <div class="button-group">
                <button id="back-from-notfound-btn" class="btn btn-primary">
                    <span class="btn-icon">ğŸ </span>
                    Ana Sayfaya DÃ¶n
                </button>
            </div>
        </div>
    </section>

    <!-- Tree View -->
    <section id="tree-screen" class="screen">
        <div class="tree-header">
            <button id="back-home-btn" class="btn-icon-only">
                <span>â†</span>
            </button>
            <div class="tree-id-display">
                <span class="label">AÄŸaÃ§ ID:</span>
                <span id="current-tree-id" class="tree-id-value">------</span>
                <button id="copy-id-btn" class="btn-copy" title="ID'yi Kopyala">ğŸ“‹</button>
            </div>
            <button id="share-btn" class="btn-icon-only">
                <span>â†—</span>
            </button>
        </div>

        <div class="tree-container">
            <!-- Star -->
            <div class="tree-star">â­</div>

            <!-- Tree -->
            <div class="christmas-tree">
                <div class="tree-layer layer-1"></div>
                <div class="tree-layer layer-2"></div>
                <div class="tree-layer layer-3"></div>
                <div class="tree-layer layer-4"></div>
                <div class="tree-trunk"></div>

                <!-- Ornaments (Messages will appear here) -->
                <div id="tree-ornaments" class="tree-ornaments"></div>

                <!-- Decorative Ornaments (Static) -->
                <div class="decorative-ornaments">
                    <span class="ornament deco-ornament deco-1">ğŸ”´</span>
                    <span class="ornament deco-ornament deco-2">ğŸŸ¡</span>
                    <span class="ornament deco-ornament deco-3">ğŸ”µ</span>
                    <span class="ornament deco-ornament deco-4">ğŸŸ£</span>
                    <span class="ornament deco-ornament deco-5">ğŸ”´</span>
                    <span class="ornament deco-ornament deco-6">ğŸŸ¡</span>
                    <span class="ornament deco-ornament deco-7">ğŸ”µ</span>
                    <span class="ornament deco-ornament deco-8">ğŸŸ£</span>
                    <span class="ornament deco-ornament deco-9">ğŸ”´</span>
                    <span class="ornament deco-ornament deco-10">ğŸŸ¡</span>
                    <span class="ornament deco-ornament deco-11">ğŸ”µ</span>
                    <span class="ornament deco-ornament deco-12">ğŸŸ£</span>
                </div>

                <!-- Garland (Ribbons) -->
                <div class="garlands">
                    <div class="garland garland-1"></div>
                    <div class="garland garland-2"></div>
                    <div class="garland garland-3"></div>
                    <div class="garland garland-4"></div>
                </div>

                <!-- Lights Container (Dynamic - Optional few) -->
                <div id="tree-lights" class="tree-lights"></div>
            </div>

            <!-- Gift Boxes (Will be created dynamically in JavaScript) -->
            <div id="gift-boxes-container" class="gift-boxes-container"></div>
        </div>

        <!-- Fireworks Container -->
        <div id="fireworks-container" class="fireworks-container"></div>

        <!-- Bottom Buttons -->
        <div class="tree-actions">
            <button id="add-message-btn" class="btn btn-primary">
                <span class="btn-icon">ğŸ’Œ</span>
                Mesaj BÄ±rak
            </button>
            <button id="view-all-messages-btn" class="btn btn-secondary">
                <span class="btn-icon">ğŸ„</span>
                TÃ¼m NotlarÄ± GÃ¶r <span id="message-count-badge" class="badge">0</span>
            </button>
        </div>
    </section>

    <!-- Add Message Modal -->
    <div id="message-modal" class="modal">
        <div class="modal-content glass-card">
            <button class="modal-close" id="close-message-modal">&times;</button>
            <h2>ğŸ’Œ YÄ±lbaÅŸÄ± MesajÄ±</h2>
            <form id="message-form">
                <div class="form-group">
                    <label for="sender-name">AdÄ±n</label>
                    <input type="text" id="sender-name" placeholder="AdÄ±nÄ± yaz..." required maxlength="30">
                </div>
                <div class="form-group">
                    <label for="message-text">MesajÄ±n</label>
                    <textarea id="message-text" placeholder="YÄ±lbaÅŸÄ± dileklerini yaz..." required maxlength="200"
                        rows="4"></textarea>
                    <span class="char-count"><span id="char-current">0</span>/200</span>
                </div>
                <button type="submit" class="btn btn-primary btn-full">
                    <span class="btn-icon">ğŸ„</span>
                    MesajÄ± AÄŸaca As
                </button>
            </form>
        </div>
    </div>

    <!-- All Messages Modal -->
    <div id="all-messages-modal" class="modal">
        <div class="modal-content glass-card modal-large">
            <button class="modal-close" id="close-all-messages-modal">&times;</button>
            <h2>ğŸ„ TÃ¼m Mesajlar</h2>
            <div id="all-messages-list" class="messages-list">
                <!-- Messages will be added here via JavaScript -->
            </div>
            <div id="no-messages" class="no-messages">
                <p>ğŸ„ HenÃ¼z mesaj yok!</p>
                <p>Ä°lk mesajÄ± sen bÄ±rak!</p>
            </div>
        </div>
    </div>

    <!-- Copy Notification -->
    <div id="copy-toast" class="toast">
        <span>âœ“ ID KopyalandÄ±!</span>
    </div>

    <!-- New Tree Confirmation Modal -->
    <div id="confirm-new-tree-modal" class="modal">
        <div class="modal-content confirm-modal-content">
            <div class="confirm-icon">ğŸŒ²</div>
            <h2 id="confirm-new-tree-title">Yeni AÄŸaÃ§ OluÅŸtur?</h2>
            <p id="confirm-new-tree-desc">Mevcut aÄŸacÄ±nÄ±z silinmeyecek, sadece yeni aÄŸaÃ§ varsayÄ±lan olacak.</p>
            <div class="modal-actions two-buttons">
                <button id="confirm-cancel-btn" class="secondary-btn">VazgeÃ§</button>
                <button id="confirm-ok-btn" class="primary-btn">Evet, OluÅŸtur</button>
            </div>
        </div>
    </div>

    <!-- Tree Created Success Modal (Simple Alert) -->
    <div id="tree-created-modal" class="modal">
        <div class="modal-content success-content">
            <h2 id="tree-created-title">âœ¨ AÄŸaÃ§ OluÅŸturuldu!</h2>
            <p id="tree-created-desc">AÄŸacÄ±n hazÄ±r! AÅŸaÄŸÄ±daki ID'leri kaydet:</p>

            <div class="key-display-box">
                <span class="key-label" id="tree-id-label">ğŸŒ² AÄŸaÃ§ ID (PaylaÅŸÄ±labilir):</span>
                <div class="key-value-row">
                    <code id="display-tree-id">ABC123</code>
                    <button id="copy-tree-id-btn" class="icon-btn" title="Kopyala">ğŸ“‹</button>
                </div>
            </div>

            <div class="key-display-box admin-key-box">
                <span class="key-label" id="admin-id-label">ğŸ” Admin ID (Gizli Tut!):</span>
                <div class="key-value-row">
                    <code id="display-admin-id">XYZ789AB</code>
                    <button id="copy-admin-id-btn" class="icon-btn" title="Kopyala">ğŸ“‹</button>
                </div>
            </div>

            <p class="warning-text" id="admin-warning">âš ï¸ Admin ID'yi kaybetme! Mesaj silmek iÃ§in lazÄ±m.</p>

            <div class="modal-actions two-buttons">
                <button id="cancel-tree-btn" class="secondary-btn">VazgeÃ§</button>
                <button id="start-tree-btn" class="primary-btn">AÄŸacÄ±ma Git</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module" src="script.js"></script>
</body>

</html>